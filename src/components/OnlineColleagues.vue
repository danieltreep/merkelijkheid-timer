<template >
    
  <OnlineColleagueAccordion id="1" title="🐧 Office" :statuses="statusesOfToday" :open="true" />
  <OnlineColleagueAccordion id="2" title="🏡 Home" :statuses="statusesOfToday" :open="true"/>
  <OnlineColleagueAccordion id="3" title="☕ Half day" :statuses="statusesOfToday" />
  <OnlineColleagueAccordion id="4" title="⛔️ Fixed day off" :statuses="statusesOfToday" />
  <OnlineColleagueAccordion id="5" title="🏖️ Vacation day" :statuses="statusesOfToday" />
  <OnlineColleagueAccordion id="6" title="🤮 Sick" :statuses="statusesOfToday" />
  <OnlineColleagueAccordion id="7" title="🎄 Holiday" :statuses="statusesOfToday" />
  <OnlineColleagueAccordion id="8" title="👻 Unknown" :statuses="statusesOfToday" />

</template>
<script setup>
import { onMounted} from 'vue'
import { storeToRefs } from "pinia";

// Stores
import { useDataStore } from '@/stores/data'

// Composables
import getData from '@/composables/getData'
import { dateToYYYYMMDD } from '@/composables/functions'

// Components
import OnlineColleagueAccordion from '@/components/OnlineColleagueAccordion.vue'

// Refs
const { statusesOfToday } = storeToRefs(useDataStore());

// Lifecycle
onMounted(async () => {
  statusesOfToday.value = await getData('statuses', null, dateToYYYYMMDD(new Date()))

  setInterval(async () => {
    statusesOfToday.value = await getData('statuses', null, dateToYYYYMMDD(new Date()))
    
  }, 20000);
})
</script>
<style scoped>


</style>